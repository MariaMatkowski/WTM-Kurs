<!Doctype html> 
<html>
    <head>
        <script>

        var myCookies = {};

        function saveCookies() {
            myCookies["user"] = document.getElementById("user").value;
            myCookies["uage"] = document.getElementById("age").value;
            //start reusable code
            document.cookie = "";   //cookie leeren
            var expires = new Date(Date.now()+600*1000).toString();  //60 Sek.
            var cookieString ="";             //to store each cookie
            for (var key in myCookies)
                { 
                    cookieString = key + "=" + myCookies[key] +";"+ expires + ";";    //create cookiestring
                    document.cookie = cookieString;   //loop oder each value save string out to the document
                }
            //end reusable code
            document.getElementById("out").innerHTML = document.cookie;
        }

        function loadCookies()
        {
            //start reusable code
            myCookies = {};           //array
            var kv = document.cookie.split(";");  //kv = keyvalue
            for (var id in kv)              //id is key in pairs
            {
                var cookie = kv[id].split("=");   //split by = sign    > 0 is name, 1 is value
                myCookies[cookie[0].trim()] = cookie[1];
            }
            //end reusable code
            document.getElementById("user").value = myCookies["user"];
            document.getElementById("age").value = myCookies["uage"];
        }
        </script>
    </head>

    <body>
    User:<input type="text" id="user">
    Age:<input type="text" id="age">
    <button onclick="saveCookies()">Save to Cookies</button>
    <button onclick="loadCookies()">Load from Cookies</button>
    <p id="out"></p> 
    </body>
</html>

